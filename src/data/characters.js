const animationPath = (name) => `assets/animations/${name}.webp`;

const JOB_ANIMATIONS = {
  swordsman: {
    move: animationPath('frontline_step'),
    attack: animationPath('blade_slash'),
    skill: animationPath('sword_skill'),
  },
  knight: {
    move: animationPath('shield_stride'),
    attack: animationPath('shield_bash'),
    skill: animationPath('ward_glow'),
  },
  warrior: {
    move: animationPath('warrior_dash'),
    attack: animationPath('hammer_smash'),
    skill: animationPath('warcry_wave'),
  },
  archer: {
    move: animationPath('archer_glide'),
    attack: animationPath('arrow_shot'),
    skill: animationPath('volley_burst'),
  },
  mage: {
    move: animationPath('mage_float'),
    attack: animationPath('mana_bolt'),
    skill: animationPath('arcane_bloom'),
  },
  healer: {
    move: animationPath('healer_step'),
    attack: animationPath('staff_tap'),
    skill: animationPath('healing_wave'),
  },
  consecrator: {
    move: animationPath('cleric_step'),
    attack: animationPath('blessing_cast'),
    skill: animationPath('radiant_field'),
  },
  warlock: {
    move: animationPath('warlock_sway'),
    attack: animationPath('hex_cast'),
    skill: animationPath('void_flare'),
  },
};

function attachAnimations(character) {
  const defaults = JOB_ANIMATIONS[character.jobId];
  if (!defaults) {
    return { ...character };
  }
  if (character.animations === null) {
    return { ...character, animations: null };
  }
  return {
    ...character,
    animations: {
      ...defaults,
      ...(character.animations || {}),
    },
  };
}

const BASE_CHARACTERS = [
  {
    id: 'alric-dawnbreaker',
    name: '알릭 새벽분쇄자',
    jobId: 'swordsman',
    skillId: 'blade-tempest',
    portraitId: 'alric',
    spriteId: 'alric',
    rarity: 'common',
    signatureTraitId: 'sunlit-fervor',
    traitPool: ['critical-edge', 'battle-trance'],
    statAdjustments: { attack: 10, speed: 0.04 },
    biography: '사막 태양 아래에서 검을 연마한 전선의 용병.',
  },
  {
    id: 'keira-flashstep',
    name: '키라 플래시스텝',
    jobId: 'swordsman',
    skillId: 'moon-cleave',
    portraitId: 'keira',
    spriteId: 'keira',
    rarity: 'common',
    signatureTraitId: 'phantom-stride',
    traitPool: ['storm-dancer', 'sunlit-fervor'],
    statAdjustments: { attack: 8, speed: 0.06, health: -40 },
    biography: '섬광처럼 움직여 적의 허리를 가르는 민첩한 결투가.',
  },
  {
    id: 'marin-ironbark',
    name: '마린 아이언바크',
    jobId: 'knight',
    skillId: 'lance-charge',
    portraitId: 'marin',
    spriteId: 'marin',
    rarity: 'common',
    signatureTraitId: 'iron-wall',
    traitPool: ['stone-bulwark', 'ancient-echo'],
    statAdjustments: { defense: 14, attack: 4, mana: 10 },
    biography: '숲의 수호자로 불리는 고목 기사.',
  },
  {
    id: 'brenn-stormram',
    name: '브렌 스톰램',
    jobId: 'warrior',
    skillId: 'earthbreaker',
    portraitId: 'brenn',
    spriteId: 'brenn',
    rarity: 'common',
    signatureTraitId: 'blood-frenzy',
    traitPool: ['life-draught', 'obsidian-guard'],
    statAdjustments: { attack: 6, health: 120, speed: -0.05 },
    biography: '전장을 들이받아 적 진형을 부수는 거구의 야만전사.',
  },
  {
    id: 'toren-rumbler',
    name: '토렌 럼블러',
    jobId: 'warrior',
    skillId: 'unyielding-roar',
    portraitId: 'toren',
    spriteId: 'toren',
    rarity: 'common',
    signatureTraitId: 'guardian-pulse',
    traitPool: ['vital-renewal', 'life-draught'],
    statAdjustments: { health: 150, mana: 12 },
    biography: '동료를 지키기 위해 산처럼 버티는 노련한 전사.',
  },
  {
    id: 'lyss-windpiercer',
    name: '리스 윈드피어서',
    jobId: 'archer',
    skillId: 'falcon-volley',
    portraitId: 'lyss',
    spriteId: 'lyss',
    rarity: 'common',
    signatureTraitId: 'swift-arrows',
    traitPool: ['storm-dancer', 'arc-light'],
    statAdjustments: { attack: 12, speed: 0.04 },
    biography: '폭풍 끝의 화살을 다루는 민첩한 궁수.',
  },
  {
    id: 'fenn-quickshot',
    name: '펜 퀵샷',
    jobId: 'archer',
    skillId: 'piercing-rain',
    portraitId: 'fenn',
    spriteId: 'fenn',
    rarity: 'common',
    signatureTraitId: 'howling-gale',
    traitPool: ['swift-arrows', 'critical-edge'],
    statAdjustments: { range: 30, speed: 0.05, defense: -4 },
    biography: '순식간에 화살을 쏟아내는 도시 사수.',
  },
  {
    id: 'rhea-wavebinder',
    name: '레아 웨이브바인더',
    jobId: 'mage',
    skillId: 'arcane-comet',
    portraitId: 'rhea',
    spriteId: 'rhea',
    rarity: 'common',
    signatureTraitId: 'deep-focus',
    traitPool: ['void-channel', 'tide-sage'],
    statAdjustments: { spellPower: 18, mana: 24 },
    biography: '바다의 흐름으로 비전을 엮는 조류 마도사.',
  },
  {
    id: 'nima-embersong',
    name: '니마 엠버송',
    jobId: 'mage',
    skillId: 'mana-implosion',
    portraitId: 'nima',
    spriteId: 'nima',
    rarity: 'common',
    signatureTraitId: 'ember-heart',
    traitPool: ['arc-light', 'sunlit-fervor'],
    statAdjustments: { spellPower: 14, attack: 6, mana: 10 },
    biography: '노래하는 불꽃으로 적을 태우는 음유 마법사.',
  },
  {
    id: 'joren-lifespark',
    name: '조렌 라이프스파크',
    jobId: 'healer',
    skillId: 'radiant-mending',
    portraitId: 'joren',
    spriteId: 'joren',
    rarity: 'common',
    signatureTraitId: 'radiant-song',
    traitPool: ['serene-mind', 'tide-sage'],
    statAdjustments: { mana: 30, spellPower: 8 },
    biography: '숲의 생명력을 들여와 동료를 살리는 치유사.',
  },
  {
    id: 'pax-lightwarden',
    name: '팍스 라이트워든',
    jobId: 'consecrator',
    skillId: 'holy-bastion',
    portraitId: 'pax',
    spriteId: 'pax',
    rarity: 'common',
    signatureTraitId: 'celestial-aegis',
    traitPool: ['guardian-pulse', 'radiant-song'],
    statAdjustments: { defense: 10, mana: 16 },
    biography: '빛의 성역을 세워 아군을 감싸는 성기사.',
  },
  {
    id: 'hana-starfletch',
    name: '하나 스타플레치',
    jobId: 'archer',
    skillId: 'hawk-eye',
    portraitId: 'hana',
    spriteId: 'hana',
    rarity: 'common',
    signatureTraitId: 'arc-light',
    traitPool: ['swift-arrows', 'radiant-song'],
    statAdjustments: { mana: 12, range: 40 },
    biography: '별빛을 깃에 품은 사수로 한 발도 놓치지 않는다.',
  },
  {
    id: 'mirra-skyguard',
    name: '미라 스카이가드',
    jobId: 'knight',
    skillId: 'solar-bulwark',
    portraitId: 'mirra',
    spriteId: 'mirra',
    rarity: 'uncommon',
    signatureTraitId: 'stone-bulwark',
    traitPool: ['guardian-pulse', 'moon-ward'],
    statAdjustments: { health: 110, mana: 12, speed: -0.03 },
    biography: '하늘 요새를 지키던 방벽의 주인.',
  },
  {
    id: 'tessia-sunveil',
    name: '테시아 선베일',
    jobId: 'mage',
    skillId: 'temporal-shift',
    portraitId: 'tessia',
    spriteId: 'tessia',
    rarity: 'uncommon',
    signatureTraitId: 'deep-focus',
    traitPool: ['arc-light', 'serene-mind'],
    statAdjustments: { spellPower: 20, mana: 28, speed: -0.02 },
    biography: '시간의 장막으로 전장을 지휘하는 황금 마도사.',
  },
  {
    id: 'draven-longshot',
    name: '드레이븐 롱샷',
    jobId: 'archer',
    skillId: 'gale-splitter',
    portraitId: 'draven',
    spriteId: 'draven',
    rarity: 'uncommon',
    signatureTraitId: 'swift-arrows',
    traitPool: ['howling-gale', 'critical-edge'],
    statAdjustments: { range: 50, attack: 10 },
    biography: '한번 겨누면 지평선 너머도 맞히는 명사수.',
  },
  {
    id: 'orren-softgleam',
    name: '오렌 소프트글림',
    jobId: 'healer',
    skillId: 'guardian-prayer',
    portraitId: 'orren',
    spriteId: 'orren',
    rarity: 'uncommon',
    signatureTraitId: 'serene-mind',
    traitPool: ['radiant-song', 'tide-sage'],
    statAdjustments: { mana: 34, spellPower: 12 },
    biography: '온화한 빛으로 파동 치유를 이어가는 온화한 치유사.',
  },
  {
    id: 'liora-dawnchant',
    name: '리오라 던챈트',
    jobId: 'consecrator',
    skillId: 'radiant-chain',
    portraitId: 'liora',
    spriteId: 'liora',
    rarity: 'uncommon',
    signatureTraitId: 'radiant-song',
    traitPool: ['arc-light', 'celestial-aegis'],
    statAdjustments: { mana: 24, spellPower: 10, speed: 0.02 },
    biography: '새벽의 찬가로 동료를 강화하는 축복의 지휘자.',
  },
  {
    id: 'zekhar-voidling',
    name: '제카르 보이드링',
    jobId: 'warlock',
    skillId: 'void-siphon',
    portraitId: 'zekhar',
    spriteId: 'zekhar',
    rarity: 'uncommon',
    signatureTraitId: 'void-channel',
    traitPool: ['night-harvest', 'guardian-pulse'],
    statAdjustments: { spellPower: 18, mana: 32, speed: -0.02 },
    biography: '공허와 대화를 나누는 외눈의 흑마법사.',
  },
  {
    id: 'sorin-ironveil',
    name: '소린 아이언베일',
    jobId: 'knight',
    skillId: 'guardian-oath',
    portraitId: 'sorin',
    spriteId: 'sorin',
    rarity: 'rare',
    signatureTraitId: 'obsidian-guard',
    traitPool: ['stone-bulwark', 'guardian-pulse'],
    statAdjustments: { health: 160, defense: 18, speed: -0.05 },
    biography: '철의 장막을 펼쳐 동료를 감싸는 전설의 근위장.',
  },
  {
    id: 'karin-stormlash',
    name: '카린 스톰래시',
    jobId: 'swordsman',
    skillId: 'eclipse-rend',
    portraitId: 'karin',
    spriteId: 'karin',
    rarity: 'rare',
    signatureTraitId: 'storm-dancer',
    traitPool: ['critical-edge', 'sunlit-fervor'],
    statAdjustments: { attack: 14, speed: 0.06 },
    biography: '번개처럼 움직여 적을 베는 폭풍의 검객.',
  },
  {
    id: 'thorek-ashenhide',
    name: '소렉 애쉬엔하이드',
    jobId: 'warrior',
    skillId: 'seismic-crash',
    portraitId: 'thorek',
    spriteId: 'thorek',
    rarity: 'rare',
    signatureTraitId: 'blood-frenzy',
    traitPool: ['obsidian-guard', 'night-harvest'],
    statAdjustments: { attack: 12, health: 200, defense: 6 },
    biography: '재로 뒤덮인 갑옷을 입고 전장을 질주하는 거한.',
  },
  {
    id: 'celene-dawnguard',
    name: '셀린 던가드',
    jobId: 'knight',
    skillId: 'radiant-bastion',
    portraitId: 'celene',
    spriteId: 'celene',
    rarity: 'rare',
    signatureTraitId: 'celestial-aegis',
    traitPool: ['moon-ward', 'radiant-song'],
    statAdjustments: { defense: 20, mana: 18, health: 80 },
    biography: '새벽 빛의 방패를 들고 서광을 부르는 성기사.',
  },
  {
    id: 'lyra-starcaster',
    name: '리라 스타캐스터',
    jobId: 'mage',
    skillId: 'astral-cascade',
    portraitId: 'lyra',
    spriteId: 'lyra',
    rarity: 'rare',
    signatureTraitId: 'arc-light',
    traitPool: ['void-channel', 'serene-mind'],
    statAdjustments: { spellPower: 26, mana: 34, speed: 0.02 },
    biography: '별빛의 궤도를 재배열하여 시간을 다루는 비전가.',
  },
  {
    id: 'nerys-aurachant',
    name: '네리스 아우라챈트',
    jobId: 'healer',
    skillId: 'revitalizing-anthem',
    portraitId: 'nerys',
    spriteId: 'nerys',
    rarity: 'rare',
    signatureTraitId: 'radiant-song',
    traitPool: ['serene-mind', 'tide-sage'],
    statAdjustments: { mana: 50, spellPower: 16 },
    biography: '찬란한 오라로 전열 전체를 치유하는 성가대장.',
  },
  {
    id: 'vael-voidsinger',
    name: '바엘 보이드싱어',
    jobId: 'warlock',
    skillId: 'nightmare-sigil',
    portraitId: 'vael',
    spriteId: 'vael',
    rarity: 'rare',
    signatureTraitId: 'night-harvest',
    traitPool: ['void-channel', 'frost-vein'],
    statAdjustments: { spellPower: 24, mana: 30, speed: -0.01 },
    biography: '악몽의 노래로 적을 잠식시키는 공허의 가수.',
  },
  {
    id: 'kaelith-radiantblade',
    name: '카엘리스 라디언트블레이드',
    jobId: 'swordsman',
    skillId: 'phoenix-guard',
    portraitId: 'kaelith',
    spriteId: 'kaelith',
    rarity: 'unique',
    signatureTraitId: 'sunlit-fervor',
    traitPool: ['storm-dancer', 'sanguine-surge'],
    statAdjustments: { attack: 18, speed: 0.07, defense: 4 },
    biography: '빛을 칼날에 담아 전선을 가르는 전설의 선봉장.',
  },
  {
    id: 'morwynn-oathbound',
    name: '모윈 오스바운드',
    jobId: 'knight',
    skillId: 'ironclad-clarion',
    portraitId: 'morwynn',
    spriteId: 'morwynn',
    rarity: 'unique',
    signatureTraitId: 'obsidian-guard',
    traitPool: ['stone-bulwark', 'ancient-echo'],
    statAdjustments: { health: 220, defense: 22, speed: -0.06 },
    biography: '수백 개의 서약을 등에 지고 끝까지 서 있는 불굴의 수호자.',
  },
  {
    id: 'draeg-stormreaver',
    name: '드래그 스톰리버',
    jobId: 'warrior',
    skillId: 'molten-upheaval',
    portraitId: 'draeg',
    spriteId: 'draeg',
    rarity: 'unique',
    signatureTraitId: 'blood-frenzy',
    traitPool: ['obsidian-guard', 'life-draught'],
    statAdjustments: { attack: 16, health: 240, speed: -0.04 },
    biography: '폭풍을 찢는 포효로 적을 무력화하는 전쟁군주.',
  },
  {
    id: 'orin-windshadow',
    name: '오린 윈드섀도',
    jobId: 'archer',
    skillId: 'shadow-barrage',
    portraitId: 'orin',
    spriteId: 'orin',
    rarity: 'unique',
    signatureTraitId: 'swift-arrows',
    traitPool: ['storm-dancer', 'howling-gale'],
    statAdjustments: { range: 70, speed: 0.06, attack: 14 },
    biography: '바람과 그림자를 동시에 다루는 궁극의 사냥꾼.',
  },
  {
    id: 'eira-lifebloom',
    name: '에이라 라이프블룸',
    jobId: 'healer',
    skillId: 'verdant-bloom',
    portraitId: 'eira',
    spriteId: 'eira',
    rarity: 'unique',
    signatureTraitId: 'tide-sage',
    traitPool: ['serene-mind', 'radiant-song'],
    statAdjustments: { mana: 48, spellPower: 18 },
    biography: '생명의 꽃을 피워 쓰러진 자를 일으키는 숲의 주술사.',
  },
  {
    id: 'zaros-nightweaver',
    name: '자로스 나이트위버',
    jobId: 'warlock',
    skillId: 'void-collapse',
    portraitId: 'zaros',
    spriteId: 'zaros',
    rarity: 'unique',
    signatureTraitId: 'void-channel',
    traitPool: ['night-harvest', 'arc-light'],
    statAdjustments: { spellPower: 30, mana: 40, speed: -0.03 },
    biography: '어둠의 실을 엮어 악몽을 짜 올리는 그림자 주인.',
  },
  {
    id: 'aurielle-sunspear',
    name: '오리엘 선스피어',
    jobId: 'swordsman',
    skillId: 'celestial-rush',
    portraitId: 'aurielle',
    spriteId: 'aurielle',
    rarity: 'epic',
    signatureTraitId: 'sunlit-fervor',
    traitPool: ['storm-dancer', 'celestial-aegis'],
    statAdjustments: { attack: 24, speed: 0.08, defense: 6 },
    biography: '태양창을 휘둘러 전장을 밝히는 전설의 여전사.',
  },
  {
    id: 'myrren-stormlight',
    name: '미렌 스톰라이트',
    jobId: 'mage',
    skillId: 'celestial-burst',
    portraitId: 'myrren',
    spriteId: 'myrren',
    rarity: 'epic',
    signatureTraitId: 'void-channel',
    traitPool: ['arc-light', 'tide-sage'],
    statAdjustments: { spellPower: 36, mana: 48, speed: 0.02 },
    biography: '폭풍과 빛을 동시에 불러오는 대마도사.',
  },
  {
    id: 'kaelen-skyarrow',
    name: '카엘렌 스카이애로',
    jobId: 'archer',
    skillId: 'storm-hail',
    portraitId: 'kaelen',
    spriteId: 'kaelen',
    rarity: 'epic',
    signatureTraitId: 'swift-arrows',
    traitPool: ['storm-dancer', 'howling-gale'],
    statAdjustments: { attack: 22, range: 80, speed: 0.07 },
    biography: '하늘을 가르는 화살로 전설이 된 궁술의 화신.',
  },
  {
    id: 'seraphel-dawnhallow',
    name: '세라펠 던할로',
    jobId: 'consecrator',
    skillId: 'dawn-sanctuary',
    portraitId: 'seraphel',
    spriteId: 'seraphel',
    rarity: 'epic',
    signatureTraitId: 'celestial-aegis',
    traitPool: ['radiant-song', 'moon-ward'],
    statAdjustments: { mana: 46, spellPower: 20, defense: 8 },
    biography: '새벽의 축복으로 전장을 정화하는 최고위 사제.',
  },
];

const CHARACTERS_WITH_UNIQUE_SKILLS = BASE_CHARACTERS.map((character) => {
  const skillBlueprintId = character.skillId;
  const uniqueSkillId = `${character.id}-skill`;
  return attachAnimations({
    ...character,
    skillBlueprintId,
    skillId: uniqueSkillId,
  });
});

export const CHARACTERS = CHARACTERS_WITH_UNIQUE_SKILLS;

export function getCharacterById(characterId) {
  return CHARACTERS.find((character) => character.id === characterId) || null;
}
